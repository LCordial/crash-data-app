<html>
    <head>
        <title>Crash Data DB | Data entry</title>
        <link rel="stylesheet" href="./style/bootstrap.css"/>
        <meta name="description" content="My Portfolio" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
        <meta charSet="UTF-8" />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="./ajax.js"></script>
    </head>
    <body>
        <div id="page">
            <div id="content" style="margin: 5rem;">

                <div class="d-flex justify-content-center flex-column" style="padding-bottom: 1rem">
                    <img src="./img/logo.png" width="150rem" class="align-self-center">
                    <h1 class="align-self-center">SAPOL Car Crash data entry form</h1>
                </div>

                <div>
                    <form action="csv.php" method="POST" enctype="multipart/form-data">
                        <label>Select CSV File:</label>
                        <input type="file" name="file">
    
                        <input type="submit" name="submit" value="Import">                
                    </form>
                </div>

                <button class="btn btn-primary" onclick="location.href='./bulk.html'">View Table</button>
                <button class="btn btn-primary" onclick="location.href='./dashboard.html'">View Dashboard</button>

                <form class="needs-validation" novalidate>
                    <div class="form-group row justify-content-center" style="border: 1px solid black; border-radius: 1rem; padding: 2rem;">

                        <!-- Time -->

                        <h2>Time</h2>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom03">Select Time:</label>
                            <br>
                            <input type="time" id="time" required>
                            <div class="invalid-feedback">
                                Choose a time.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom03">Select Day:</label>
                            <select name="day" id="day" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                                <option value="Monday">Monday</option>
                                <option value="Tuesday">Tuesday</option>
                                <option value="Wednesday">Wednesday</option>
                                <option value="Thursday">Thursday</option>
                                <option value="Friday">Friday</option>
                                <option value="Saturday">Saturday</option>
                                <option value="Sunday">Sunday</option>
                            </select>
                            <div class="invalid-feedback">
                                Choose a day.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom03">Select Month:</label>
                            <select name="month" id="month" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                                <option value="January">January</option>
                                <option value="February">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                                <option value="May">May</option>
                                <option value="June">June</option>
                                <option value="July">July</option>
                                <option value="August">August</option>
                                <option value="September">September</option>
                                <option value="October">October</option>
                                <option value="November">November</option>
                                <option value="December">December</option>
                            </select>
                            <div class="invalid-feedback">
                                Choose a month.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom03">Select Year:</label>
                            <select name="year" id="year" class="form-select" required>
                            </select>
                            <div class="invalid-feedback">
                                Choose a year.
                            </div>
                        </div>
                    </div>

                    <!-- Location -->

                    <div class="form-group row justify-content-center" style="border: 1px solid black; border-radius: 1rem; padding: 2rem; margin-top: 1.7rem;">
                        <h2>Location</h2>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Suburb:</label>
                            <select name="suburb" id="suburb" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                            </select>
                            <div class="invalid-feedback">
                                Enter a suburb
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">LGA:</label>
                            <input placeholder="LGA" type="text" class="form-control" id="lga" required>
                            <div class="invalid-feedback">
                                Enter a LGA
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Postcode:</label>
                            <input placeholder="Postcode" type="text" class="form-control" id="postcode" type="int" required>
                            <div class="invalid-feedback">
                                Enter a Postcode
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Stats Area:</label>
                            <input placeholder="Stats Area" type="text" class="form-control" id="statsarea" required>
                            <div class="invalid-feedback">
                                Stats Area
                            </div>
                        </div>
                    </div>

                    <br>

                    <!-- Details -->

                    <div class="form-group row justify-content-center" style="border: 1px solid black; border-radius: 1rem; padding: 2rem;">
                        <h2>Details</h2>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom01">Select Crash Type:</label>
                            <select name="crashtype" id="crashtype" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                            </select>
                            <div class="invalid-feedback">
                                Choose a crash type.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="validationCustom02">Select Area Speed:</label>
                            <select name="areaspeed" id="areaspeed" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                            </select>
                            <div class="invalid-feedback">
                                Choose a speed.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom03">CSEF Severity:</label>
                            <select name="csef" id="csef" class="form-select" required>
                                <option value="" disabled selected>Select your option</option>
                            </select>
                            <div class="invalid-feedback">
                                Enter CSEF Severity.
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Total Units:</label>
                            <input placeholder="Total Units" type="number" class="form-control" id="totalunits" required>
                            <div class="invalid-feedback">
                                Enter Total Units
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Total Cas:</label>
                            <input placeholder="Total Cas" type="numbert" class="form-control" id="totalcas" required>
                            <div class="invalid-feedback">
                                Enter Total Cas
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Total SI:</label>
                            <input placeholder="Total SI" type="number" class="form-control" id="totalsi" required>
                            <div class="invalid-feedback">
                                Enter Total SI
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Total MI:</label>
                            <input placeholder="Total MI" type="number" class="form-control" id="totalmi" required>
                            <div class="invalid-feedback">
                                Enter Total MI
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="btn btn-primary" id="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
        <script>
            // Function supplied by bootstrap for form validation
            (function() {
              'use strict';
              window.addEventListener('load', function() {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function(form) {
                  form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                      event.preventDefault();
                      event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                  }, false);
                });
              }, false);
            })();
            </script>
    </body>
    <script src="./index.js"></script> 
    <script src="./location_update.js"></script>
    <script src="./submit.js"></script>
</html>